{{#each erros}}
<div class="alert alert-danger alert-dismissible fade show" role="alert">
    {{texto}}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{{else}}

{{/each}}

<div class="row mt-5">

    <div class="py-5 col-lg-5 offset-lg-4 shadow-lg p-3 mb-5 bg-body rounded" style="margin: 0 auto;">

        <form method="POST" action="/usuarios/registro/cad">

            <h3 class="text-center mb-5">Criar seu cadastro</h3>

            <div class="form-floating mb-4">
                <input type="text" name="nome" class="form-control" id="floatingNome" placeholder="Nome" required>
                <label for="floatingNome" class="text-secondary">Nome</label>
            </div>

            <div class="form-floating mb-4">
                <input type="email" name="email" class="form-control" id="floatingEmail" placeholder="name@example.com"
                    required>
                <label for="floatingEmail" class="text-secondary">Email</label>
            </div>

         
            <div class="form-floating mb-4">
                <input type="password" name="senha" class="form-control" id="floatingPassword" placeholder="Password"
                    onblur="validarSenha(this)" required>
                <label for="floatingPassword" class="text-secondary">Senha</label>
                <div id="passwordFeedback" class="invalid-feedback"></div>
            </div>

            <div class="form-floating mb-4">
                <input type="password" name="senha2" class="form-control" id="floatingPassword2" placeholder="Password2"
                    onblur="validarSenha(this)" required>
                <label for="floatingPassword2" class="text-secondary">Repetir Senha</label>
                <div id="passwordFeedback" class="invalid-feedback"></div>
            </div>

            <div class="mt-5 col-lg-4 offset-lg-4 d-grid">
                <button type="submit" class="btn btn-success">Criar conta</button>
            </div>

        </form>

    </div>

</div>

<script>
    function validarSenha(input) {
        const senhaInput = document.getElementById('floatingPassword')
        const senhaInput2 = document.getElementById('floatingPassword2')
        const senhaFeedback = document.getElementById('passwordFeedback')

        if (senhaInput.value.length < 8) {
            senhaFeedback.textContent = 'A senha deve ter pelo menos 8 caracteres'
            senhaInput.classList.add('is-invalid')
            //senhaInput2.classList.add('is-invalid')
        } else if (senhaInput2.value != senhaInput.value) {
            senhaFeedback.textContent = 'As senhas sÃ£o diferentes'
            senhaInput.classList.add('is-invalid')
            senhaInput2.classList.add('is-invalid')
        } else {
            senhaFeedback.textContent = ''
            senhaInput.classList.remove('is-invalid')
            senhaInput.classList.add('is-valid')
            senhaInput2.classList.remove('is-invalid')
            senhaInput2.classList.add('is-valid')
        }

    }

</script>